<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>MY Shop</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</head>

<body>
    <div id="root"></div>
    <div class="header">
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <a href="index.html"> <img src="logo.webp" width="100px" /></a>
                </div>
                <nav>
                    <ul id="MenuItems">
                        <li><a href="index.html" style="color: #000000; font-weight: bold;">Home</a></li>
                        <li><a href="product.html" style="color: #000000; font-weight: bold;">Products</a></li>
                        <li><a href="account.html" style="color: #000000; font-weight: bold;">Account</a></li>
                        <li><a href="contact.html" style="color: #000000; font-weight: bold;">Contact</a></li>
                        <li><a href="cart.html" style="color: #000000; font-weight: bold;">Cart</a></li>
                    </ul>
                </nav>
            </div>
            <div class="row" style="margin-top: 100px;">
                <div class="product">
                    <img src="iphone15.jpg" alt="Product 1" width="100px" height="100px" />
                    <h3>Product 1</h3>
                    <p>Iphone 15</p>
                    <p>Price: $799.00</p>
                    <button onclick="addToCart('product1', 'Iphone 15', 799.00, 'iphone15.jpg')">Add to Cart</button>
                </div>
                <div class="product">
                    <img src="LG-TV.jpg" alt="Product 2" width="150px" height="100px" />
                    <h3>Product 2</h3>
                    <p>LG webOS-6.0 TV </p>
                    <p>Price: $1490.00</p>
                    <button onclick="addToCart('product2', 'LG webOS-6.0 TV', 1490.00, 'LG-TV.jpg')">Add to
                        Cart</button>
                </div>
                <div class="product">
                    <img src="samsungS24.jpeg" alt="Product 3" width="100px" height="100px" />
                    <h3>Product 3</h3>
                    <p>Samsung S24</p>
                    <p>Price: $859.99</p>
                    <button onclick="addToCart('product3', 'Samsung S24', 859.99, 'samsungS24.jpeg')">Add to
                        Cart</button>
                </div>
                <!-- Add more products here -->
            </div>
        </div>
    </div>
    <script>
        var MenuItems = document.getElementById("MenuItems");
        MenuItems.style.maxHeight = "0px";
        function menutoggle() {
            if (MenuItems.style.maxHeight == "0px") {
                MenuItems.style.maxHeight = "200px";
            }
            else {
                MenuItems.style.maxHeight = "0px";
            }
        }
        function updateCartCount() {
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
            var cartCount = cart.length;
            var cartLink = document.querySelector('a[href="cart.html"]');
            cartLink.innerHTML = 'Cart (' + cartCount + ')';
            cartLink.style.fontWeight = 'bold';
            // Highlight the cart link (you can add your desired styling here)
            cartLink.style.color = 'red';
        }

        function addToCart(id, name, price, image) {
            var cart = JSON.parse(localStorage.getItem('cart')) || [];
            var existingItemIndex = cart.findIndex(item => item.id === id);
            if (existingItemIndex !== -1) {
                // If the item already exists in the cart, update its quantity
                cart[existingItemIndex].quantity = (cart[existingItemIndex].quantity || 1) + 1;
            } else {
                // If the item is not already in the cart, add it as a new item
                var cartItem = { id: id, name: name, price: price, image: image, quantity: 1 };
                cart.push(cartItem);
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            // Update cart count and style
            updateCartCount();
            //window.location.href = 'cart.html';
        }

        // Call the updateCartCount function when the page loads to ensure the cart count is up-to-date
        window.onload = updateCartCount;
    </script>
</body>

</html>